(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33732,e=>{"use strict";var t=e.i(55482),s=e.i(89252),i=e.i(5422);function a(){let[e,a]=(0,s.useState)(null),[r,l]=(0,s.useState)([]),[n,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{let{data:{user:e}}=await i.supabase.auth.getUser();if(!e){window.location.href="/login";return}let t="free",{data:s}=await i.supabase.from("profiles").select("subscription_tier, subscription_expires_at").eq("user_id",e.id).single();s?.subscription_tier&&(!s.subscription_expires_at||new Date(s.subscription_expires_at)>new Date)&&(t=s.subscription_tier),a({email:e.email||"",name:e.user_metadata?.display_name||e.email?.split("@")[0]||"ç”¨æˆ¶",tier:t,expiresAt:s?.subscription_expires_at||void 0});let{data:r}=await i.supabase.from("calculations").select("id, created_at, tax_amount, effective_rate, input_data").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);r&&l(r),d(!1)})()},[]);let o=async()=>{await i.supabase.auth.signOut(),window.location.href="/"};if(n)return(0,t.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full"})});let c=e?.tier==="pro"||e?.tier==="pro_plus";return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,t.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold mb-1",children:["ðŸ‘‹ ä½ å¥½ï¼Œ",e?.name,"ï¼"]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:e?.email})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[c?(0,t.jsx)("span",{className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full text-sm font-bold",children:"â­ Pro æœƒå“¡"}):(0,t.jsx)("a",{href:"/pricing",className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold hover:bg-indigo-200 transition",children:"å‡ç´š Pro â†’"}),(0,t.jsx)("button",{onClick:o,className:"text-sm text-gray-500 hover:text-red-500 transition",children:"ç™»å‡º"})]})]})}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"å¿«é€ŸåŠŸèƒ½"}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[{icon:"ðŸ§®",title:"æ‰€å¾—ç¨…è©¦ç®—",desc:"2025 å®Œæ•´ç¨…é¡è¨ˆç®—",href:"/calculator",color:"bg-blue-50 border-blue-200"},{icon:"ðŸ“Š",title:"AI ç¯€ç¨…å»ºè­°",desc:"æ™ºæ…§åˆ†æžæœ€ä½³æ–¹æ¡ˆ",href:"/calculator",color:"bg-green-50 border-green-200",pro:!0},{icon:"ðŸ“„",title:"PDF å ±å‘Š",desc:"åŒ¯å‡ºå°ˆæ¥­å ±ç¨…å ±å‘Š",href:"/calculator",color:"bg-purple-50 border-purple-200",pro:!0}].map((e,s)=>(0,t.jsxs)("a",{href:e.href,className:`p-6 rounded-2xl border ${e.color} hover:shadow-md transition block relative`,children:[e.pro&&!c&&(0,t.jsx)("span",{className:"absolute top-3 right-3 px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-semibold",children:"Pro"}),(0,t.jsx)("div",{className:"text-3xl mb-3",children:e.icon}),(0,t.jsx)("h3",{className:"font-bold mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.desc})]},s))}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"å„²å­˜çš„è¨ˆç®—è¨˜éŒ„"}),(0,t.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:c?r.length>0?(0,t.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold",children:["å¹´æ”¶å…¥ $",(e.input_data?.annualIncome||0).toLocaleString()]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-bold text-indigo-600",children:["$",(e.tax_amount||0).toLocaleString()]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["ç¨…çŽ‡ ",(100*(e.effective_rate||0)).toFixed(1),"%"]})]})]},e.id))}):(0,t.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"ðŸ“‹"}),(0,t.jsx)("p",{children:"å°šç„¡å„²å­˜çš„è¨ˆç®—è¨˜éŒ„"}),(0,t.jsx)("a",{href:"/calculator",className:"text-indigo-600 text-sm font-semibold hover:underline mt-2 inline-block",children:"é–‹å§‹ç¬¬ä¸€æ¬¡è©¦ç®— â†’"})]}):(0,t.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"ðŸ”’"}),(0,t.jsx)("p",{className:"mb-2",children:"å„²å­˜è¨ˆç®—è¨˜éŒ„ç‚º Pro å°ˆå±¬åŠŸèƒ½"}),(0,t.jsx)("a",{href:"/pricing",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-700 transition inline-block",children:"å‡ç´š Pro"})]})})]})}e.s(["default",()=>a])}]);