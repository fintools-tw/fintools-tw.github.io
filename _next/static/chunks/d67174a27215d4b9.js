(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3310,e=>{"use strict";var t=e.i(55482),s=e.i(89252),i=e.i(5422);let a={EXEMPTION_PER_PERSON:97e3,EXEMPTION_OVER_70:145500,STANDARD_DEDUCTION_SINGLE:131e3,STANDARD_DEDUCTION_MARRIED:262e3,SALARY_DEDUCTION:218e3,DISABILITY_DEDUCTION:218e3,CHILD_DEDUCTION:15e4,EDUCATION_DEDUCTION:25e3,SAVINGS_DEDUCTION_CAP:27e4,LONG_TERM_CARE_DEDUCTION:12e4,INSURANCE_CAP:24e3,MORTGAGE_INTEREST_CAP:3e5,BASIC_LIVING_EXPENSE:21e4,DIVIDEND_CREDIT_RATE:.085,DIVIDEND_CREDIT_CAP:8e4,SEPARATE_DIVIDEND_RATE:.28,TAX_BRACKETS:[{limit:59e4,rate:.05,cumDeduct:0},{limit:133e4,rate:.12,cumDeduct:41300},{limit:266e4,rate:.2,cumDeduct:147700},{limit:498e4,rate:.3,cumDeduct:413700},{limit:1/0,rate:.4,cumDeduct:911700}]};function n(e,t=!0){let s=1+ +!!e.hasSpouse+e.dependents,i=Math.round(e.annualIncome*(e.laborPensionRate/100)),d=e.annualIncome-i,r=e.spouseIncome||0,o=d+r+(t?e.dividendIncome:0)+e.rentalIncome,l=(1+ +!!e.hasSpouse+e.dependents-e.dependentsOver70)*a.EXEMPTION_PER_PERSON+e.dependentsOver70*a.EXEMPTION_OVER_70,c=e.hasSpouse?a.STANDARD_DEDUCTION_MARRIED:a.STANDARD_DEDUCTION_SINGLE,m=Math.min(e.insurancePremium,a.INSURANCE_CAP*s)+e.medicalExpense+Math.min(e.mortgageInterest,a.MORTGAGE_INTEREST_CAP)+Math.min(e.donation,.2*o),x=m>c,p=x?m:c,h=Math.min(d,a.SALARY_DEDUCTION)+(e.hasSpouse?Math.min(r,a.SALARY_DEDUCTION):0),u=(e.hasDisability?a.DISABILITY_DEDUCTION:0)+(e.spouseDisability?a.DISABILITY_DEDUCTION:0),g=e.dependentsUnder5*a.CHILD_DEDUCTION,b=e.dependentsEducation*a.EDUCATION_DEDUCTION,N=Math.min(e.dividendIncome,a.SAVINGS_DEDUCTION_CAP),f=e.hasLongTermCare?a.LONG_TERM_CARE_DEDUCTION:0,y=h+u+g+b+N+f,j=Math.max(0,s*a.BASIC_LIVING_EXPENSE-(l+p+N+b+g+u+f)),v=Math.max(0,o-l-p-y-j),I=function(e){if(e<=0)return 0;for(let t of a.TAX_BRACKETS)if(e<=t.limit)return Math.round(e*t.rate-t.cumDeduct);return 0}(v),D=t?Math.min(Math.round(e.dividendIncome*a.DIVIDEND_CREDIT_RATE),a.DIVIDEND_CREDIT_CAP):0,T=Math.max(0,I-D);return{grossIncome:o,exemption:l,standardDeduction:c,itemizedDeduction:m,useItemized:x,specialDeduction:y,taxableIncome:v,taxAmount:I,effectiveRate:o>0?T/o:0,dividendTaxCredit:D,finalTax:T,details:{salaryDeduction:h,disabilityDeduction:u,childDeduction:g,educationDeduction:b,savingsDeduction:N,longTermCareDeduction:f,laborPensionDeduction:i,basicLivingDiff:j}}}function d(e){let t=n(e,!0),s=t.finalTax,i=n({...e,dividendIncome:0},!1),d=Math.round(e.dividendIncome*a.SEPARATE_DIVIDEND_RATE),r=i.finalTax+d,o=Math.abs(s-r);return{combinedTax:t.taxAmount,combinedCredit:t.dividendTaxCredit,combinedNet:s,separateTax:d,separateNet:r,recommendation:s<=r?"combined":"separate",savings:o}}function r(e){if(!e.hasSpouse){let t=n(e);return[{method:"single",methodName:"å€‹äººç”³å ±",totalTax:t.finalTax,details:{self:t,spouse:t}}]}let t=[],s=n(e);t.push({method:"joint",methodName:"å…¨éƒ¨æ‰€å¾—åˆä½µè¨ˆç¨…",totalTax:s.finalTax,details:{self:s,spouse:s}});let i={...e,annualIncome:e.annualIncome,spouseIncome:0},a={...e,annualIncome:e.spouseIncome,spouseIncome:0,hasSpouse:!1,dependents:0,dependentsOver70:0,dependentsUnder5:0,dependentsEducation:0},d=n(i),r=n(a);t.push({method:"salary_self",methodName:"è–ªè³‡åˆ†é–‹ â€” æœ¬äººç‚ºç´ç¨…ç¾©å‹™äºº",totalTax:d.finalTax+r.finalTax,details:{self:d,spouse:r}});let o={...e,annualIncome:e.spouseIncome,spouseIncome:0},l={...e,annualIncome:e.annualIncome,spouseIncome:0,hasSpouse:!1,dependents:0,dependentsOver70:0,dependentsUnder5:0,dependentsEducation:0},c=n(o),m=n(l);return t.push({method:"salary_spouse",methodName:"è–ªè³‡åˆ†é–‹ â€” é…å¶ç‚ºç´ç¨…ç¾©å‹™äºº",totalTax:m.finalTax+c.finalTax,details:{self:m,spouse:c}}),t.push({method:"all_self",methodName:"å„é¡æ‰€å¾—åˆ†é–‹ â€” æœ¬äººç‚ºç´ç¨…ç¾©å‹™äºº",totalTax:d.finalTax+r.finalTax,details:{self:d,spouse:r}}),t.push({method:"all_spouse",methodName:"å„é¡æ‰€å¾—åˆ†é–‹ â€” é…å¶ç‚ºç´ç¨…ç¾©å‹™äºº",totalTax:m.finalTax+c.finalTax,details:{self:m,spouse:c}}),t.sort((e,t)=>e.totalTax-t.totalTax)}function o(e){return new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e)}let l={annualIncome:8e5,hasSpouse:!1,spouseIncome:0,dependents:0,dependentsOver70:0,dependentsUnder5:0,dependentsEducation:0,dividendIncome:0,rentalIncome:0,insurancePremium:0,medicalExpense:0,mortgageInterest:0,donation:0,laborPensionRate:0,hasDisability:!1,spouseDisability:!1,hasLongTermCare:!1};function c({label:e,value:s,onChange:i,suffix:a}){return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",value:s||"",onChange:e=>i(Number(e.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none text-right pr-12",placeholder:"0"}),(0,t.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:a||"å…ƒ"})]})]})}function m(){let[e,a]=(0,s.useState)(l),[m,x]=(0,s.useState)(null),[p,h]=(0,s.useState)([]),[u,g]=(0,s.useState)(null),[b,N]=(0,s.useState)([]),[f,y]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{let{data:{user:e}}=await i.supabase.auth.getUser();if(e){let{data:t}=await i.supabase.from("profiles").select("subscription_tier, subscription_expires_at").eq("user_id",e.id).single();(t?.subscription_tier==="pro"||t?.subscription_tier==="pro_plus")&&(!t.subscription_expires_at||new Date(t.subscription_expires_at)>new Date)&&v(!0)}})()},[]);let I=e=>{a(t=>({...t,...e}))},D=async()=>{if(!j)return void y(!0);if(m)try{let{data:{user:t}}=await i.supabase.auth.getUser();if(!t)return void alert("è«‹å…ˆç™»å…¥");let{error:s}=await i.supabase.from("calculations").insert({user_id:t.id,input_data:e,result_data:m,tax_amount:m.finalTax,effective_rate:m.effectiveRate});if(s)throw s;alert("âœ… è¨ˆç®—è¨˜éŒ„å·²å„²å­˜ï¼")}catch(e){console.error("Save error:",e),alert("å„²å­˜å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}};return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"ğŸ§® 2025 ç¶œåˆæ‰€å¾—ç¨…è©¦ç®—"}),(0,t.jsx)("p",{className:"text-gray-500",children:"è¼¸å…¥æ‚¨çš„è³‡æ–™ï¼ŒAI å¹«ä½ æ‰¾åˆ°æœ€çœç¨…æ–¹æ¡ˆ"})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-5 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-4",children:"ğŸ’¼ æ‰€å¾—è³‡æ–™"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c,{label:"å¹´è–ªè³‡æ”¶å…¥",value:e.annualIncome,onChange:e=>I({annualIncome:e})}),(0,t.jsx)(c,{label:"è‚¡åˆ©æ‰€å¾—",value:e.dividendIncome,onChange:e=>I({dividendIncome:e})}),(0,t.jsx)(c,{label:"ç§Ÿé‡‘æ”¶å…¥",value:e.rentalIncome,onChange:e=>I({rentalIncome:e})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-4",children:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶åº­ç‹€æ³"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.hasSpouse,onChange:e=>I({hasSpouse:e.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"æœ‰é…å¶"})]}),e.hasSpouse&&(0,t.jsx)(c,{label:"é…å¶è–ªè³‡æ”¶å…¥",value:e.spouseIncome,onChange:e=>I({spouseIncome:e})}),(0,t.jsx)(c,{label:"æ‰¶é¤Šäººæ•¸",value:e.dependents,onChange:e=>I({dependents:e}),suffix:"äºº"}),(0,t.jsx)(c,{label:"å…¶ä¸­ 70 æ­²ä»¥ä¸Š",value:e.dependentsOver70,onChange:e=>I({dependentsOver70:e}),suffix:"äºº"}),(0,t.jsx)(c,{label:"5 æ­²ä»¥ä¸‹å¹¼å…’",value:e.dependentsUnder5,onChange:e=>I({dependentsUnder5:e}),suffix:"äºº"}),(0,t.jsx)(c,{label:"å¤§å°ˆé™¢æ ¡å­å¥³",value:e.dependentsEducation,onChange:e=>I({dependentsEducation:e}),suffix:"äºº"}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.hasDisability,onChange:e=>I({hasDisability:e.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"æœ¬äººèº«å¿ƒéšœç¤™"})]}),e.hasSpouse&&(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.spouseDisability,onChange:e=>I({spouseDisability:e.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"é…å¶èº«å¿ƒéšœç¤™"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.hasLongTermCare,onChange:e=>I({hasLongTermCare:e.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"é•·æœŸç…§é¡§ç‰¹åˆ¥æ‰£é™¤"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-4",children:"ğŸ“ æ‰£é™¤é¡æ˜ç´°"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c,{label:"ä¿éšªè²»",value:e.insurancePremium,onChange:e=>I({insurancePremium:e})}),(0,t.jsx)(c,{label:"é†«ç™‚åŠç”Ÿè‚²è²»",value:e.medicalExpense,onChange:e=>I({medicalExpense:e})}),(0,t.jsx)(c,{label:"æˆ¿è²¸åˆ©æ¯",value:e.mortgageInterest,onChange:e=>I({mortgageInterest:e})}),(0,t.jsx)(c,{label:"æè´ˆ",value:e.donation,onChange:e=>I({donation:e})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"è‡ªæå‹é€€æ¯”ä¾‹"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:0,max:6,step:1,value:e.laborPensionRate,onChange:e=>I({laborPensionRate:Number(e.target.value)}),className:"flex-1 accent-indigo-600"}),(0,t.jsxs)("span",{className:"text-indigo-600 font-bold w-12 text-right",children:[e.laborPensionRate,"%"]})]})]})]})]}),(0,t.jsx)("button",{onClick:()=>{x(n(e)),e.hasSpouse&&h(r(e)),e.dividendIncome>0&&g(d(e)),N(function(e){let t=[],s=n(e);if(s.itemizedDeduction>s.standardDeduction){let e=s.itemizedDeduction-s.standardDeduction;t.push({id:"itemized",category:"æ‰£é™¤é¡",title:"å»ºè­°ä½¿ç”¨åˆ—èˆ‰æ‰£é™¤é¡",description:`æ‚¨çš„åˆ—èˆ‰æ‰£é™¤é¡ ${o(s.itemizedDeduction)} é«˜æ–¼æ¨™æº–æ‰£é™¤é¡ ${o(s.standardDeduction)}ï¼Œå¯å¤šæ‰£ ${o(e)}ã€‚`,potentialSavings:Math.round(.12*e),priority:"high"})}else t.push({id:"standard",category:"æ‰£é™¤é¡",title:"æ¨™æº–æ‰£é™¤é¡è¼ƒæœ‰åˆ©",description:`ç›®å‰æ¨™æº–æ‰£é™¤é¡ ${o(s.standardDeduction)} è¼ƒåˆ—èˆ‰æ‰£é™¤é¡ ${o(s.itemizedDeduction)} æœ‰åˆ©ã€‚è‹¥èƒ½å¢åŠ é†«ç™‚è²»ã€ä¿éšªè²»ç­‰æ”¯å‡ºï¼Œå¯è€ƒæ…®è½‰ç‚ºåˆ—èˆ‰ã€‚`,priority:"low"});if(e.laborPensionRate<6){let s=Math.round(.06*e.annualIncome)-Math.round(e.annualIncome*(e.laborPensionRate/100));t.push({id:"labor_pension",category:"å‹é€€è‡ªæ",title:"å»ºè­°æé«˜è‡ªé¡˜æç¹³å‹é€€è‡³ 6%",description:`è‡ªé¡˜æç¹³çš„é€€ä¼‘é‡‘å¯å¾è–ªè³‡æ‰€å¾—ä¸­æ‰£é™¤ï¼Œæœ€é«˜ 6%ã€‚ç›®å‰æ‚¨æç¹³ ${e.laborPensionRate}%ï¼Œè‹¥æé«˜è‡³ 6%ï¼Œå¯é¡å¤–æ‰£é™¤ ${o(s)}ï¼Œé ä¼°ç¯€ç¨… ${o(Math.round(.12*s))}ã€‚`,potentialSavings:Math.round(.12*s),priority:"high"})}else t.push({id:"labor_pension_ok",category:"å‹é€€è‡ªæ",title:"âœ… è‡ªæå‹é€€å·²é” 6% ä¸Šé™",description:"æ‚¨å·²å–„ç”¨å‹é€€è‡ªæç¯€ç¨…ç©ºé–“ï¼Œå¾ˆæ£’ï¼",priority:"low"});if(e.dividendIncome>0){let s=d(e);t.push({id:"dividend",category:"è‚¡åˆ©æ‰€å¾—",title:"combined"===s.recommendation?"å»ºè­°è‚¡åˆ©åˆä½µè¨ˆç¨…":"å»ºè­°è‚¡åˆ©åˆ†é–‹è¨ˆç¨… (28%)",description:"combined"===s.recommendation?`åˆä½µè¨ˆç¨…æ‡‰ç´ç¨…é¡ ${o(s.combinedNet)}ï¼Œåˆ†é›¢è¨ˆç¨… ${o(s.separateNet)}ï¼Œåˆä½µè¼ƒçœ ${o(s.savings)}ã€‚è‚¡åˆ©å¯æŠµæ¸›ç¨…é¡ ${o(s.combinedCredit)}ã€‚`:`åˆ†é›¢è¨ˆç¨… 28% æ‡‰ç´ç¨…é¡ ${o(s.separateNet)}ï¼Œåˆä½µè¨ˆç¨… ${o(s.combinedNet)}ï¼Œåˆ†é›¢è¼ƒçœ ${o(s.savings)}ã€‚`,potentialSavings:s.savings,priority:"high"}),e.dividendIncome>94e4&&t.push({id:"dividend_high",category:"è‚¡åˆ©æ‰€å¾—",title:"è‚¡åˆ©æ‰€å¾—åé«˜ï¼Œæ³¨æ„åˆä½µç¨…ç‡",description:"ç•¶è‚¡åˆ©æ‰€å¾—è¶…é 94 è¬å…ƒæ™‚ï¼Œ8.5% å¯æŠµæ¸›ç¨…é¡å·²è¶…éä¸Šé™ 8 è¬å…ƒï¼Œå»ºè­°ä»”ç´°æ¯”è¼ƒå…©ç¨®è¨ˆç¨…æ–¹å¼ã€‚",priority:"medium"})}if(e.hasSpouse){let s=r(e),i=s[0],a=s[s.length-1].totalTax-i.totalTax;t.push({id:"filing_method",category:"ç”³å ±æ–¹å¼",title:`å»ºè­°æ¡ç”¨ã€Œ${i.methodName}ã€`,description:`æ¯”è¼ƒ 5 ç¨®å¤«å¦»ç”³å ±æ–¹å¼ï¼Œã€Œ${i.methodName}ã€æœ€çœç¨…ï¼Œæ‡‰ç´ç¨…é¡ ${o(i.totalTax)}ï¼Œæ¯”æœ€å·®æ–¹å¼çœ ${o(a)}ã€‚`,potentialSavings:a,priority:a>0?"high":"low"})}let i=(1+ +!!e.hasSpouse+e.dependents)*24e3;return e.insurancePremium<i&&e.insurancePremium>0&&t.push({id:"insurance",category:"ä¿éšªè²»",title:"ä¿éšªè²»æ‰£é™¤é¡å°šæœ‰ç©ºé–“",description:`æ¯äººæœ€é«˜å¯åˆ—å ± $24,000 ä¿éšªè²»ï¼Œæ‚¨çš„å®¶åº­ä¸Šé™ç‚º ${o(i)}ï¼Œç›®å‰åƒ…åˆ—å ± ${o(e.insurancePremium)}ï¼Œå¯è€ƒæ…®å¢åŠ ä¿éšœåŒæ™‚ç¯€ç¨…ã€‚`,priority:"medium"}),e.mortgageInterest>0&&e.mortgageInterest<3e5&&t.push({id:"mortgage",category:"æˆ¿è²¸åˆ©æ¯",title:"æˆ¿è²¸åˆ©æ¯æ‰£é™¤é¡æé†’",description:`æˆ¿è²¸åˆ©æ¯åˆ—èˆ‰æ‰£é™¤ä¸Šé™ $300,000ï¼Œæ‚¨ç›®å‰åˆ—å ± ${o(e.mortgageInterest)}ã€‚è¨˜å¾—æ‰£é™¤å„²è“„æŠ•è³‡ç‰¹åˆ¥æ‰£é™¤é¡å¾Œçš„æ·¨é¡æ‰èƒ½åˆ—å ±ã€‚`,priority:"low"}),0===e.donation&&s.grossIncome>1e6&&t.push({id:"donation",category:"æè´ˆ",title:"è€ƒæ…®æè´ˆç¯€ç¨…",description:`æè´ˆå¯åˆ—èˆ‰æ‰£é™¤ï¼Œä¸Šé™ç‚ºç¶œåˆæ‰€å¾— 20%ï¼ˆç´„ ${o(Math.round(.2*s.grossIncome))}ï¼‰ã€‚é™¤ç¯€ç¨…å¤–ä¹Ÿèƒ½å›é¥‹ç¤¾æœƒã€‚`,priority:"medium"}),0===e.medicalExpense&&t.push({id:"medical",category:"é†«ç™‚è²»",title:"åˆ¥å¿˜äº†è’é›†é†«ç™‚è²»æ”¶æ“š",description:"é†«ç™‚åŠç”Ÿè‚²è²»ç”¨æ²’æœ‰æ‰£é™¤ä¸Šé™ï¼Œå…¨é¡åˆ—å ±ã€‚è¨˜å¾—è’é›†å…¨å®¶äººçš„é†«ç™‚æ”¶æ“šï¼ŒåŒ…æ‹¬ç‰™ç§‘ã€ä¸­é†«ã€å¥æª¢ç­‰ã€‚",priority:"medium"}),e.rentalIncome>0&&t.push({id:"rental",category:"ç§Ÿé‡‘æ”¶å…¥",title:"ç§Ÿé‡‘æ‰€å¾—å¯æ‰£é™¤å¿…è¦è²»ç”¨",description:"ç§Ÿé‡‘æ”¶å…¥å¯æ‰£é™¤ 43% å¿…è¦è²»ç”¨ï¼ˆæˆ–æŒ‰å¯¦éš›æ”¯å‡ºæ ¸å¯¦æ¸›é™¤ï¼‰ï¼Œç¢ºèªå·²é¸æ“‡æœ€æœ‰åˆ©æ–¹å¼ã€‚",priority:"medium"}),e.dependentsUnder5>0&&t.push({id:"child",category:"å¹¼å…’å­¸å‰",title:`å¹¼å…’å­¸å‰ç‰¹åˆ¥æ‰£é™¤é¡ ${o(15e4*e.dependentsUnder5)}`,description:`æ‚¨æœ‰ ${e.dependentsUnder5} ä½ 5 æ­²ä»¥ä¸‹å­å¥³ï¼Œå¯äº«å¹¼å…’å­¸å‰ç‰¹åˆ¥æ‰£é™¤é¡æ¯äºº $150,000ã€‚æ³¨æ„ï¼šé©ç”¨ç¨…ç‡ 20% ä»¥ä¸Šè€…ä¸é©ç”¨ã€‚`,priority:"low"}),e.annualIncome>266e4&&t.push({id:"high_income",category:"é«˜æ‰€å¾—",title:"é©ç”¨ç¨…ç‡ 30% ä»¥ä¸Šï¼Œæ‡‰ç©æ¥µç¯€ç¨…",description:"æ‚¨çš„æ‰€å¾—é©ç”¨è¼ƒé«˜ç¨…ç‡ï¼Œæ¯ä¸€å…ƒæ‰£é™¤é¡å¯ç¯€çœ 0.3 å…ƒä»¥ä¸Šç¨…é¡ã€‚å»ºè­°æœ€å¤§åŒ–æ‰€æœ‰æ‰£é™¤é …ç›®ï¼Œä¸¦è€ƒæ…®åˆ†æ•£æ‰€å¾—ã€‚",priority:"high"}),s.details.basicLivingDiff>0&&t.push({id:"basic_living",category:"åŸºæœ¬ç”Ÿæ´»è²»",title:`åŸºæœ¬ç”Ÿæ´»è²»å·®é¡å¯å†æ‰£ ${o(s.details.basicLivingDiff)}`,description:"æ‚¨çš„åŸºæœ¬ç”Ÿæ´»è²»æ‰€éœ€ç¸½é¡è¶…éå…ç¨…é¡åŠæ‰£é™¤é¡åˆè¨ˆï¼Œå·®é¡å¯é¡å¤–å¾æ‰€å¾—ä¸­æ¸›é™¤ã€‚",potentialSavings:Math.round(.05*s.details.basicLivingDiff),priority:"medium"}),!e.hasLongTermCare&&e.dependentsOver70>0&&t.push({id:"long_term_care",category:"é•·ç…§æ‰£é™¤",title:"ç¢ºèªæ˜¯å¦ç¬¦åˆé•·ç…§ç‰¹åˆ¥æ‰£é™¤é¡è³‡æ ¼",description:"æ‚¨æœ‰ 70 æ­²ä»¥ä¸Šæ‰¶é¤Šè¦ªå±¬ï¼Œè‹¥ç¬¦åˆé•·æœŸç…§é¡§éœ€æ±‚ï¼Œæ¯äººå¯æ‰£é™¤ $120,000 é•·ç…§ç‰¹åˆ¥æ‰£é™¤é¡ã€‚",potentialSavings:14400,priority:"medium"}),e.dependentsEducation>0&&t.push({id:"education",category:"æ•™è‚²å­¸è²»",title:"æ•™è‚²å­¸è²»ç‰¹åˆ¥æ‰£é™¤é¡æé†’",description:`${e.dependentsEducation} ä½å°±è®€å¤§å°ˆå­å¥³ï¼Œæ¯äººå¯æ‰£ $25,000ã€‚æ³¨æ„ï¼šå°±è®€ç©ºå¤§ã€ç©ºä¸­å°ˆæ ¡åŠäº”å°ˆå‰ä¸‰å¹´ä¸é©ç”¨ã€‚`,priority:"low"}),s.effectiveRate>.2&&t.push({id:"high_rate",category:"æ•´é«”å»ºè­°",title:"æœ‰æ•ˆç¨…ç‡åé«˜ï¼Œå»ºè­°è«®è©¢å°ˆæ¥­",description:`æ‚¨çš„æœ‰æ•ˆç¨…ç‡ç‚º ${(100*s.effectiveRate).toFixed(1)}%ï¼Œå»ºè­°è«®è©¢å°ˆæ¥­æœƒè¨ˆå¸«ï¼Œè©•ä¼°æ˜¯å¦æœ‰å…¶ä»–åˆæ³•ç¯€ç¨…æ–¹å¼ï¼ˆå¦‚æˆç«‹å…¬å¸ã€æµ·å¤–æ‰€å¾—è¦åŠƒç­‰ï¼‰ã€‚`,priority:"high"}),(e.hasDisability||e.spouseDisability)&&t.push({id:"disability",category:"èº«éšœæ‰£é™¤",title:"èº«å¿ƒéšœç¤™ç‰¹åˆ¥æ‰£é™¤é¡å·²åˆ—å…¥",description:`å·²åˆ—å…¥èº«å¿ƒéšœç¤™ç‰¹åˆ¥æ‰£é™¤é¡ ${o(s.details.disabilityDeduction)}ã€‚è«‹ç¢ºèªå·²å–å¾—èº«å¿ƒéšœç¤™æ‰‹å†Šæˆ–ç›¸é—œè­‰æ˜ã€‚`,priority:"low"}),t.sort((e,t)=>{let s={high:0,medium:1,low:2};return s[e.priority]-s[t.priority]})}(e))},className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl text-lg hover:bg-indigo-700 transition shadow-lg",children:"ğŸš€ é–‹å§‹è©¦ç®—"})]}),(0,t.jsx)("div",{className:"lg:col-span-3 space-y-6",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl p-8 text-white shadow-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/70 text-sm mb-1",children:"æ‡‰ç´ç¨…é¡"}),(0,t.jsx)("p",{className:"text-4xl font-extrabold",children:o(m.finalTax)})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-white/70 text-sm mb-1",children:"æœ‰æ•ˆç¨…ç‡"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[(100*m.effectiveRate).toFixed(1),"%"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"bg-white/10 rounded-xl p-3",children:[(0,t.jsx)("p",{className:"text-white/70",children:"ç¶œåˆæ‰€å¾—ç¸½é¡"}),(0,t.jsx)("p",{className:"font-bold",children:o(m.grossIncome)})]}),(0,t.jsxs)("div",{className:"bg-white/10 rounded-xl p-3",children:[(0,t.jsx)("p",{className:"text-white/70",children:"å…ç¨…é¡"}),(0,t.jsx)("p",{className:"font-bold",children:o(m.exemption)})]}),(0,t.jsxs)("div",{className:"bg-white/10 rounded-xl p-3",children:[(0,t.jsx)("p",{className:"text-white/70",children:m.useItemized?"åˆ—èˆ‰æ‰£é™¤é¡":"æ¨™æº–æ‰£é™¤é¡"}),(0,t.jsx)("p",{className:"font-bold",children:o(m.useItemized?m.itemizedDeduction:m.standardDeduction)})]}),(0,t.jsxs)("div",{className:"bg-white/10 rounded-xl p-3",children:[(0,t.jsx)("p",{className:"text-white/70",children:"ç‰¹åˆ¥æ‰£é™¤é¡"}),(0,t.jsx)("p",{className:"font-bold",children:o(m.specialDeduction)})]})]}),m.dividendTaxCredit>0&&(0,t.jsxs)("div",{className:"mt-4 bg-white/10 rounded-xl p-3 text-sm",children:[(0,t.jsx)("p",{className:"text-white/70",children:"è‚¡åˆ©å¯æŠµæ¸›ç¨…é¡ (8.5%)"}),(0,t.jsxs)("p",{className:"font-bold",children:["-",o(m.dividendTaxCredit)]})]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{if(!j)return void y(!0);if(!m)return;let e=window.open("","_blank");e?(e.document.write(`<!DOCTYPE html><html><head><meta charset="utf-8"><title>FinTools Pro å ±ç¨…è©¦ç®—å ±å‘Š</title>
    <style>body{font-family:system-ui,sans-serif;padding:40px;color:#333}.header{background:linear-gradient(135deg,#4F46E5,#7C3AED);color:#fff;padding:30px;border-radius:12px;margin-bottom:30px}.header h1{margin:0 0 8px;font-size:24px}.header p{margin:0;opacity:.8;font-size:14px}.section{margin-bottom:24px}.section h2{font-size:18px;border-bottom:2px solid #4F46E5;padding-bottom:8px;margin-bottom:16px}.result-box{background:#F3F4F6;padding:20px;border-radius:8px;margin-bottom:12px}.result-box .amount{font-size:32px;font-weight:700;color:#4F46E5}table{width:100%;border-collapse:collapse;margin-bottom:16px}th,td{padding:8px 12px;text-align:left;border-bottom:1px solid #E5E7EB}th{background:#F9FAFB;font-weight:600}.advice{padding:12px;border-left:4px solid #4F46E5;background:#EEF2FF;margin-bottom:8px;border-radius:0 8px 8px 0}.footer{margin-top:40px;text-align:center;color:#999;font-size:12px}@media print{.no-print{display:none}}</style></head><body>
    <div class="header"><h1>ğŸ’° FinTools Pro å ±ç¨…è©¦ç®—å ±å‘Š</h1><p>2025 å¹´åº¦ç¶œåˆæ‰€å¾—ç¨…è©¦ç®— \xb7 ${new Date().toLocaleDateString("zh-TW")}</p></div>
    <div class="section"><h2>ğŸ“Š è¨ˆç®—çµæœ</h2><div class="result-box"><p>æ‡‰ç´ç¨…é¡</p><p class="amount">${o(m.finalTax)}</p><p>æœ‰æ•ˆç¨…ç‡ï¼š${(100*m.effectiveRate).toFixed(1)}%</p></div>
    <table><tr><th>é …ç›®</th><th>é‡‘é¡</th></tr><tr><td>ç¶œåˆæ‰€å¾—ç¸½é¡</td><td>${o(m.grossIncome)}</td></tr><tr><td>å…ç¨…é¡</td><td>${o(m.exemption)}</td></tr><tr><td>${m.useItemized?"åˆ—èˆ‰æ‰£é™¤é¡":"æ¨™æº–æ‰£é™¤é¡"}</td><td>${o(m.useItemized?m.itemizedDeduction:m.standardDeduction)}</td></tr><tr><td>ç‰¹åˆ¥æ‰£é™¤é¡</td><td>${o(m.specialDeduction)}</td></tr><tr><td>æ‰€å¾—æ·¨é¡</td><td>${o(m.taxableIncome)}</td></tr></table></div>
    ${b.length?`<div class="section"><h2>ğŸ¤– AI ç¯€ç¨…å»ºè­°</h2>${b.map(e=>`<div class="advice"><h4>${e.title}</h4><p>${e.description}</p></div>`).join("")}</div>`:""}
    <div class="footer"><p>æœ¬å ±å‘Šç”± FinTools Pro è‡ªå‹•ç”¢ç”Ÿï¼Œåƒ…ä¾›åƒè€ƒã€‚</p><p>\xa9 2025 FinTools Pro</p></div>
    <script>window.onload=function(){window.print();}</script></body></html>`),e.document.close()):alert("è«‹å…è¨±å½ˆå‡ºè¦–çª—ä»¥åŒ¯å‡ºå ±å‘Š")},className:"px-4 py-2 bg-white/20 rounded-lg text-sm font-semibold hover:bg-white/30 transition",children:"ğŸ“„ åŒ¯å‡º PDF"}),(0,t.jsx)("button",{onClick:D,className:"px-4 py-2 bg-white/20 rounded-lg text-sm font-semibold hover:bg-white/30 transition",children:"ğŸ’¾ å„²å­˜è¨˜éŒ„"})]})]}),e.hasSpouse&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"ğŸ‘« å¤«å¦»ç”³å ±æ–¹å¼æ¯”è¼ƒ"}),!j&&(0,t.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-bold",children:"Pro åŠŸèƒ½"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[p.map((e,s)=>(0,t.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-xl ${0===s?"bg-green-50 border-2 border-green-300":"bg-gray-50"} ${!j&&s>0?"blur-sm":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[0===s&&(0,t.jsx)("span",{className:"text-green-600 font-bold",children:"ğŸ‘‘"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.methodName})]}),(0,t.jsx)("span",{className:`font-bold ${0===s?"text-green-700":""}`,children:o(e.totalTax)})]},s)),!j&&(0,t.jsx)("div",{className:"text-center pt-2",children:(0,t.jsx)("button",{onClick:()=>y(!0),className:"text-indigo-600 text-sm font-semibold hover:underline",children:"ğŸ”“ è§£é–å®Œæ•´æ¯”è¼ƒ â†’"})})]})]}),u&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"ğŸ’¹ è‚¡åˆ©è¨ˆç¨…æ–¹å¼æ¯”è¼ƒ"}),!j&&(0,t.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-bold",children:"Pro åŠŸèƒ½"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:`p-4 rounded-xl ${"combined"===u.recommendation?"bg-green-50 border-2 border-green-300":"bg-gray-50"}`,children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"åˆä½µè¨ˆç¨…"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:o(u.combinedNet)}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["å¯æŠµæ¸› ",o(u.combinedCredit)]})]}),(0,t.jsxs)("div",{className:`p-4 rounded-xl ${"separate"===u.recommendation?"bg-green-50 border-2 border-green-300":"bg-gray-50"} ${!j?"blur-sm":""}`,children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"åˆ†é›¢è¨ˆç¨… 28%"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:o(u.separateNet)}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["è‚¡åˆ©ç¨… ",o(u.separateTax)]})]})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-indigo-50 rounded-xl text-sm",children:(0,t.jsxs)("span",{className:"font-semibold text-indigo-700",children:["ğŸ’¡ å»ºè­°ï¼š","combined"===u.recommendation?"åˆä½µè¨ˆç¨…":"åˆ†é›¢è¨ˆç¨…","è¼ƒçœï¼Œå¯çœ ",o(u.savings)]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"ğŸ¤– AI ç¯€ç¨…å»ºè­°"}),!j&&(0,t.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-bold",children:"Pro åŠŸèƒ½"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[b.slice(0,j?void 0:2).map((e,s)=>(0,t.jsx)("div",{className:`p-4 rounded-xl border-l-4 ${"high"===e.priority?"border-red-400 bg-red-50":"medium"===e.priority?"border-yellow-400 bg-yellow-50":"border-gray-300 bg-gray-50"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase",children:e.category}),(0,t.jsx)("h4",{className:"font-semibold text-sm mt-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),e.potentialSavings&&(0,t.jsxs)("span",{className:"text-green-600 font-bold text-sm whitespace-nowrap ml-4",children:["çœ ",o(e.potentialSavings)]})]})},s)),!j&&b.length>2&&(0,t.jsxs)("div",{className:"text-center py-4 bg-gray-50 rounded-xl",children:[(0,t.jsxs)("p",{className:"text-gray-500 text-sm mb-2",children:["é‚„æœ‰ ",b.length-2," æ¢ç¯€ç¨…å»ºè­°"]}),(0,t.jsx)("button",{onClick:()=>y(!0),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-700 transition",children:"ğŸ”“ è§£é–å…¨éƒ¨å»ºè­°"})]})]})]})]}):(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-12 shadow-sm border border-gray-100 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ğŸ§®"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-400 mb-2",children:"å¡«å¯«å·¦å´è³‡æ–™å¾Œé»æ“Šã€Œé–‹å§‹è©¦ç®—ã€"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"æ”¯æ´ 2025 å¹´åº¦æœ€æ–°ç¨…ç‡"})]})})]}),f&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 px-4",onClick:()=>y(!1),children:(0,t.jsx)("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-5xl mb-4",children:"â­"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"å‡ç´š FinTools Pro"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:"è§£é–æ‰€æœ‰é€²éšåŠŸèƒ½ï¼Œæ‰¾åˆ°æœ€çœç¨…æ–¹æ¡ˆ"}),(0,t.jsx)("ul",{className:"text-left text-sm space-y-3 mb-8",children:["AI ç¯€ç¨…å»ºè­°ï¼ˆ15+ ç­–ç•¥ï¼‰","å¤«å¦» 5 ç¨®ç”³å ±æ–¹å¼æ¯”è¼ƒ","è‚¡åˆ©åˆä½µ vs åˆ†é›¢åˆ†æ","PDF å ±å‘ŠåŒ¯å‡º","å„²å­˜è¨ˆç®—è¨˜éŒ„"].map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-500",children:"âœ…"}),e]},s))}),(0,t.jsx)("a",{href:"/pricing",className:"block w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition text-center",children:"$199/æœˆ â€” ç«‹å³å‡ç´š"}),(0,t.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 text-sm mt-4 hover:text-gray-600",children:"ç¨å¾Œå†èªª"})]})})})]})}e.s(["default",()=>m],3310)}]);